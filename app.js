const express = require('express');
const bodyParser = require('body-parser');
const cors = require('cors');
const app = express();
const port = 3000;

app.use(cors());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());

app.get('/', (req, res) => res.send('Hello World!'));

// get
app.get('/csp', (req, res) => {
  res.set('authorization', 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoyMzYzMiwiZW1haWwiOiJtaGFobkBkYWl0YW5ncm91cC5jb20iLCJmaXJzdE5hbWUiOiJNYXRoZXVzIiwibGFzdE5hbWUiOiJIYWhuIiwiam9iVGl0bGUiOiJzcGVjaWFsaXN0IGluIHRlY2huaWNhbCBkZXZlbG9wbWVudCIsInJlZ2lvbiI6bnVsbCwidXNlck5hbWUiOiJoYWhubWF0aGV1cyIsInVzZXJJbnRlZ3JhdGlvbklkIjoyMjY0NCwiYWlyd2F0Y2hFdWxhQWNjZXB0RGF0ZSI6IjIwMTgtMTAtMTBUMDA6MDA6MDAuMDAwWiIsImF2YXRhclVybCI6Imh0dHA6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZGJjcnh4dXNmL2ltYWdlL3VwbG9hZC92MTU0MDQ2NjcwMi9rb3M0dG9pMnhtMjJyc2RpdDhydi5qcGciLCJyb2xlIjoicm9vdCIsIm9wdE91dE1hcmtldGluZ01haWwiOmZhbHNlLCJjb3VudHJ5IjoiQnJhemlsIiwiaW5kdXN0cnkiOiJPdGhlciJ9LCJjb21wYW55Ijp7Im5hbWUiOiJEQUlUQU4iLCJ0eXBlIjoiaGVhbHRoIiwia2luZCI6InBhcnRuZXIiLCJjcm1LaW5kIjoic2FsZXNmb3JjZV9kZWFscmVnIn0sImF1dGhvcml6YXRpb24iOnsiY2FuQXBwcm92ZU5vbWluYXRpb25zIjpmYWxzZSwiY2FuQXBwcm92ZVVzZXJOb21pbmF0aW9ucyI6ZmFsc2UsImNhbkVkaXRTZXJ2aWNlcyI6ZmFsc2UsImNhbk1hbmFnZVRydXN0cG9pbnQiOmZhbHNlLCJjYW5Ob21pbmF0ZSI6dHJ1ZSwiY2FuU2VlRG9tYWlucyI6ZmFsc2UsImNhblNlbmRNYXNzRGVsaXZlcnkiOmZhbHNlLCJhbGxvd3NJbnZpdGF0aW9uUGFydG5lciI6ZmFsc2V9LCJpbnZpdGF0aW9ucyI6eyJ0b3RhbCI6MTAsInJlbWFpbmluZyI6OX0sIm15U2VydmljZXMiOnsib2ZmaWNlMzY1Ijp7ImlkIjoib2ZmaWNlMzY1IiwibmFtZSI6Ik9mZmljZSAzNjUiLCJzdGF0dXMiOiJhdmFpbGFibGUiLCJpbk1haW50ZW5hbmNlIjpmYWxzZSwibGljZW5zZXNSZW1haW5pbmciOi0xfSwiZ29vZ2xlX2FwcHMiOnsiaWQiOiJnb29nbGVfYXBwcyIsIm5hbWUiOiJHb29nbGUgQXBwcyBmb3IgV29yayIsInN0YXR1cyI6ImF2YWlsYWJsZSIsImluTWFpbnRlbmFuY2UiOmZhbHNlLCJsaWNlbnNlc1JlbWFpbmluZyI6LTF9LCJhaXJ3YXRjaCI6eyJpZCI6ImFpcndhdGNoIiwibmFtZSI6IlZNd2FyZSBBaXJ3YXRjaCIsInN0YXR1cyI6ImF2YWlsYWJsZSIsImluTWFpbnRlbmFuY2UiOmZhbHNlLCJsaWNlbnNlc1JlbWFpbmluZyI6LTEsImFkbWluVXNlcm5hbWUiOiJ2bXdkZW1vXFxoYWhubWF0aGV1cyIsImFpcndhdGNoRXhwcmVzc0dyb3VwSWQiOiJhd2V4aGFobm1hdGhldXM3NDUiLCJhaXJ3YXRjaEV4cHJlc3NHcm91cE5hbWUiOiJBVyBFeHByZXNzIGhhaG5tYXRoZXVzIiwiZ3JvdXBJZCI6ImhhaG5tYXRoZXVzIiwiaG9zdCI6ImFpcndhdGNoLnZtd2Rldi5jb20iLCJzYW5kYm94QWRtaW5Hcm91cElkIjoiaGFobm1hdGhldXMiLCJzYW5kYm94R3JvdXBOYW1lIjoiU2FuZGJveCBBZG1pbiBoYWhubWF0aGV1cyIsInVzZUFpcndhdGNoIjpmYWxzZSwidXNlQWlyd2F0Y2hFeHByZXNzIjpmYWxzZSwidXNlVGVtcGxhdGVzIjp0cnVlLCJlbnJvbGxtZW50RW1haWwiOiJoYWhubWF0aGV1c0BkYWl0YW5ncm91cC5jb20ifSwiaG9yaXpvbl9haXIiOnsiaWQiOiJob3Jpem9uX2FpciIsIm5hbWUiOiJWTXdhcmUgSG9yaXpvbiBDbG91ZCIsInN0YXR1cyI6ImF2YWlsYWJsZSIsImluTWFpbnRlbmFuY2UiOmZhbHNlLCJsaWNlbnNlc1JlbWFpbmluZyI6MCwiYWRtaW5Db25zb2xlVXJscyI6W3sicmVnaW9uIjoiQ2FsaWZvcm5pYSIsInVybCI6Imh0dHA6Ly9wb2MtY2EuaG9yaXpvbi52bXdhcmUuY29tL2hvcml6b25hZG1pbiJ9LHsicmVnaW9uIjoiVW5pdGVkIEtpbmdkb20iLCJ1cmwiOiJodHRwOi8vcG9jLXVrLmhvcml6b24udm13YXJlLmNvbS9ob3Jpem9uYWRtaW4ifV0sImRlc2t0b3BVcmxzIjpbeyJyZWdpb24iOiJDYWxpZm9ybmlhIiwidXJsIjoiaHR0cDovL3BvYy1jYS5ob3Jpem9uLnZtd2FyZS5jb20vIn0seyJyZWdpb24iOiJVbml0ZWQgS2luZ2RvbSIsInVybCI6Imh0dHA6Ly9wb2MtdWsuaG9yaXpvbi52bXdhcmUuY29tLyJ9XX0sImhvcml6b25fdmlldyI6eyJpZCI6Imhvcml6b25fdmlldyIsIm5hbWUiOiJWTXdhcmUgSG9yaXpvbiBWaWV3Iiwic3RhdHVzIjoiZGVwcm92aXNpb25lZCIsImluTWFpbnRlbmFuY2UiOmZhbHNlLCJsaWNlbnNlc1JlbWFpbmluZyI6MH0sImJsdWVfamVhbnMiOnsiaWQiOiJibHVlX2plYW5zIiwibmFtZSI6IkJsdWVKZWFucyIsInN0YXR1cyI6ImF2YWlsYWJsZSIsImluTWFpbnRlbmFuY2UiOmZhbHNlLCJsaWNlbnNlc1JlbWFpbmluZyI6LTF9LCJzYWxlc2ZvcmNlIjp7ImlkIjoic2FsZXNmb3JjZSIsIm5hbWUiOiJTYWxlc2ZvcmNlIiwic3RhdHVzIjoiYXZhaWxhYmxlIiwiaW5NYWludGVuYW5jZSI6ZmFsc2UsImxpY2Vuc2VzUmVtYWluaW5nIjowfSwiZHJvcGJveCI6eyJpZCI6ImRyb3Bib3giLCJuYW1lIjoiRHJvcGJveCIsInN0YXR1cyI6ImRlcHJvdmlzaW9uZWQiLCJpbk1haW50ZW5hbmNlIjpmYWxzZSwibGljZW5zZXNSZW1haW5pbmciOjB9fSwicHJvZmlsZSI6eyJpZCI6NiwiaW50ZWdyYXRpb25JZCI6NiwibmFtZSI6IlB1cmVSZWciLCJhdmFpbGFibGVTZXJ2aWNlcyI6WyJvZmZpY2UzNjUiLCJnb29nbGVfYXBwcyIsImFpcndhdGNoIiwiaG9yaXpvbl9haXIiLCJob3Jpem9uX3ZpZXciLCJibHVlX2plYW5zIiwic2FsZXNmb3JjZSIsImRyb3Bib3giXX0sInJlbWVtYmVyTWUiOjE3MjgwMDAwMCwiaWF0IjoxNTQxMDcwNzYwLCJleHAiOjE3MTM4NzA3NjB9.vWnHIchQCxNBI0WIHjKgRhLw3-aE0_eIcxpGl_mX-a8');
  res.send({});
})

app.listen(port, () => console.log(`Fake backend CSP ${port}!`));